{% extends 'base.html' %}
{% load static %}
{% block head_content %}

    
    <!DOCTYPE html>
    
      

{% endblock head_content %}
{% block container %}
<div class="content">
    <div class="row">
        <div class="col-md-12">
            
            <div class="card-body">
                
                <div class="typography-line">
                    <h3 class="color-typography"><span>Sector privado -</span> Evolucion del empleo registrado </h3>
                </div>
                <div class="typography-line">
                    
                    <blockquote>
                        <p class="blockquote blockquote-primary">
                        En el mes de marzo, la cantidad de asalariados del sector privado aumentÃ³ un 0,67% con respecto al mes de febrero. Asimismo, los puestos de trabajo aumentaron un 1% en comparaciÃ³n a marzo del aÃ±o 2024. Expresado en cantidades, en el mes de marzo se registraron 22.912 puestos de trabajo, 153 puestos mÃ¡s que en el mes de febrero. La diferencia de puestos de trabajo, con respecto a marzo del aÃ±o 2024, representa un aumento de 228 puestos. 
                        Si lo comparamos con marzo de 2023 la caÃ­da en tÃ©rminos porcentuales asciende a 16,6%, esto representa 4.563 empleos menos.                        </p>
                    </blockquote>
                        <div class="toolbar">
                            <button onclick="showView('chart')" class="active">ðŸ“ˆ</button>
                            <button onclick="showView('stats')">ðŸ“Š</button>
                            <button onclick="showView('table')">ðŸ“‹</button>
                           
                        </div>
                        <form method= "GET" action="{% url 'sector-privado' %} ">
                            {% csrf_token %}
                            <div class ="content-error">
                                
                                {% if error_message %}
                                    {{error_message}}
                                {%endif%}
                            </div>
                        
                            <div class="filtros-contenedor">
                                <div class="filtro-anios">
                                    <label>AÃ±os:</label>
                                    <div class="anio_inicio">
                                        <select name="anio_inicio">
                                            <option value="">Desde</option>
                                            <option value="2">2020</option>
                                            <option value="3">2021</option>
                                            <option value="4">2022</option>
                                            <option value="5">2023</option>
                                            <option value="6">2024</option>
                                            <option value="7">2025</option>
                                            
                                        </select>
                                        <span>â€”</span>
                                        <select name="anio_fin">
                                            <option value="">Hasta</option>
                                            <option value="2">2020</option>
                                            <option value="3">2021</option>
                                            <option value="4">2022</option>
                                            <option value="5">2023</option>
                                            <option value="6">2024</option>
                                            <option value="7">2025</option>
                                            
                                        </select>
                                    </div>
                                </div>
                            
                               



                            
                                <button type="submit">Aplicar filtros</button>
                            </div>     
                        </form>
                        <div id="chartView" class="view active">
                            <div class="chart-style" id="chart-privado"></div>
                        </div>

                        <div id="tableView" class="view">
                          <table id="example" class="stripe row-border order-column" style="width:100%">
                                <thead>
                                    <tr>
                                        <th>Mes</th>
                                        <th>AÃ±o</th>
                                        <th>Valor</th>
                                        <th>Intermensual</th>
                                        <th>Interanual</th>
                                        <th>Empresas</th>
                                        
                                       
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for data in data_variacion %}
                                    <tr>
                                        <td>{{ data.mes__mes }}</td>
                                        <td>{{ data.anio__anio }}</td>
                                        <td>{{ data.valor__valor }}</td>
                                        <td>{{ data.variacion_intermensual }}</td>
                                        <td>{{ data.variacion_interanual }}</td>
                                        <td>{{ data.cantidad_empresas }}</td>
                                       
                                    </tr>
                                    {% empty %}
                                    <tr><td colspan="5">No hay datos disponibles.</td></tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>

                        <div id="statsView" class="view">
                                   <!-- BotÃ³n para alternar los grÃ¡ficos -->
                          <button id="btn-nacional" onclick="mostrarChartNacional()" style="margin-bottom: 15px; display:block">
                              Comprar con valor nacional
                          </button>
                          <button id="btn-formosa" onclick="mostrarChartFormosa()" style="margin-bottom: 15px; display:none">
                              Ver grÃ¡fico formosa
                          </button>
                          <div id="contenedor-chart" class="d-flex" style="gap: 10px;">
                          <div id="container-formosa" class="flex-fill transition-slide slide-visible">
                            <div id="chart-formosa" style="height: 350px;"></div>
                          </div>
                          <div id="container-nacional" class="transition-slide slide-hidden invisible" style="width: 50%; height: 350px;">
                            <div id="chart-nacional" style="height: 100%;"></div>
                          </div>
                        </div>
                    </div>
            </div>
        </div>
    </div>
</div>
<script>
    

  const datos = {{ diccionario_variacion|safe }};

  area_chart_variation(
    'chart-privado',
    datos,
    'VariaciÃ³n mensual e interanual'
  );

  const data_chart_formosa = {{ data_chart_formosa|safe }};
  column_chart_comparative('chart-formosa', data_chart_formosa, 'Empresas:Formosa');

  const data_chart_nacional = {{ data_chart_nacional|safe }};
  column_chart_comparative('chart-nacional', data_chart_nacional, 'Empresas: Nacional');


  
  
</script>




{% endblock container %}




